<% if @promo_code == [] %>
  document.querySelector("#discount #confirm_promo div.mb-3 input#code").value = ""
  if (!document.querySelector("#discount #confirm_promo div.mb-3 input#code").classList.contains("is-invalid")) {
      const error = document.createElement('div')
      error.classList.add("invalid-feedback")
      error.innerHTML = "Sorry your promo code is incorrect or not valid anymore."
      console.log(error)
      document.querySelector("#discount #confirm_promo div.mb-3 input#code").classList.add("is-invalid")
      document.querySelector("#discount #confirm_promo div.mb-3").appendChild(
          error
      )
  }
<% else %>
  document.querySelector("#total_price").innerHTML = "<%= number_to_currency(@cart_items.total) %>"
  document.querySelector("#discount_percent").innerHTML = "(- <%= @cart_items.discount %> %)"
  document.querySelector("#discount_percent").hidden = false
  document.querySelector("#confirm_promo").hidden = true
<% end %>